## ***二手房小区大全单页房源数据逻辑***

> 获取某一个小区下的二手房房源列表数据，包括精选房源、套餐房源、抓取房源。(由兆媛提供数据)

* ***入参***
    1. ***commId***
        * 小区id
    2. ***pageId***
        * 分页页码(第几页)
    3. ***perPage***
        * 每页展示房源数量(默认50套，这个参数最好可变，考虑后期每页房源数量变更需求)
* ***需求描述***
    1. ***精选房源***
        * 根据commId、pageId、perPage去精选solr中查找该小区下所有精选房源套数，并返回该分页对应的精选房源信息，可以不用排序
    2. ***套餐房源***
        * 根据commId、pageId、perPage去套餐solr中找出该小区下所有房源总数，并返回对应的房源信息，套餐房源拍前面，抓取房源拍后面
* ***单个房源信息需要字段***
    * 参考文档http://gitlab.corp.anjuke.com/_site/docs/blob/master/DesignDoc/Seo/CommBook/CommBookNeeds.md
        中的`房源列表`->`房源展示字段`->`二手房房源`
* ***二手房房源数据排序***
    * 优先排精选房源，所有的精选房源都展示在前几页，只有精选排完后才能拍套餐房源；
    * 再排套餐房源，接着前面的精选房源排，只有套餐房源排完后才能排个人(或58)房源;
    * 最后排个人房源或58房源
    * 以上三种房源内部可不做排序
* ***出参***
    1. 返回的数据格式由数据提供方自定义，但是房源必须 有图片、标题、面积、户型、单价（X元/平米）、楼层信息（x/y层）、年代、小区名称、地址：{区域-板块-小区地址}、经纪人姓名、总价(X万)
    2. 需要一个标识来标识一个房源是精选房源、套餐房源还是个人房源(或58房源)，既是精选又是套餐的只给精选标识即可

----------------------

## ***租房小区大全单页房源数据逻辑***

> 获取租房房源列表数据，包括精选房源、大业主房源、套餐房源，其他房源，由庞龙提供数据。

* ***入参***
    1. ***commId***
        * 小区id
    2. ***pageId***
        * 分页页码(第几页)
    3. ***perPage***
        * 每页展示房源数量(默认50套，这个参数最好可变，考虑后期每页房源数量变更需求)
* ***需求描述***
    + 从租房房源solr中按分页方式获取某一个小区下的租房房源，所有的`精选房源`都排前面，再排`大业主房源`，紧接着排`套餐房源`，最后排`其他房源`；比如一个小区下有200套房源，有70个精选房源，则第一页全部显示精选房源，第二页前20条是精选后面是其他类型的房源；
* ***单个房源信息需要字段***
    * 参考文档http://gitlab.corp.anjuke.com/_site/docs/blob/master/DesignDoc/Seo/CommBook/CommBookNeeds.md
        中的`房源列表`->`房源展示字段`->`租房房源`
* ***租房房源排序***
    * 优先展示精选房源，有多少页精选房源，展示多少页，精选房源展示完了才展示大业主房源，精选房源内部可不做排序；
    * 展示大业主房源，有多少页展示多少页，展示完大业主房源后再展示套餐房源，大业主房源内部可不做排序；
    * 套餐房源展示，有多少页展示多少页，之后再展示58房源、个人房源、抓取房源，套餐房源内部可以不排序
    * 58房源、个人房源、抓取房源展示，这几种房源内部可以不排序
* ***出参***
    1. 返回的数据格式由数据提供方自定义，但是房源必须含有字段房源图片、房源标题、户型、租房类型、装修、当前楼层/总楼层、小区名称 {区域-板块-小区地址}、经纪人姓名、租金(XX元/月)
    2. 数据提供方需要提供每个房源的类型(精选、大业主、套餐、58、个人、抓取)，现在是把58房源也归到抓取房源里了，那就不用区分58还是抓取房源，统一写抓取类型即可




